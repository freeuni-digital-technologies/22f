# 04ბ. ოპერატიული სისტემა და პროგრამები


## პროგრამები

### რა არის პროგრამა
პროცესორის ინსტრუქციების ერთობლიობა კონკრეტული დავალების შესასრულებლად.


## პროგრამის მუშაობის სქემა
### გაშვება
ოპერატიული სისტემა 

- წაიკითხავს პროგრამის კოდს, რომელიც წერია დისკზე და გადაიტანს მეხსიერებაში
- გამოუყოფს საწყის მეხსიერებას
- პროცესორს მიუთითებს პროგრამის კოდის პირველ ხაზზე მეხსიერებაში

### ოპერირება
ამის შემდეგ, პროგრამას შეუძლია მოითხოვოს მხოლოდ გამოყოფილი მეხსიერების წაკითხვა/ჩაწერა

<!-- n -->
 ოპერატიულ სისტემას მისცემს მეხსიერების ზომას, იგი გამოუყოფს ამ ზომის ადგილს და დაუბრუნებს მისამართს, საიდანაც არის იმ ზომის ადგილი გამოყოფილი. მაგალითად, თუ გვჭირდება 100 ბაიტი, ოპერატიული სისტემა გვეტყვის რომ ეს ბაიტები გამოყო 3456 მისამართზე, ანუ 3456-დან 3556-მდე შეგვიძლია გამოვიყენოთ.

გაათავისუფლოს მეხსიერება, რომელიც არ ჭირდება ხშირად პროგრამისტებს ეს ავიწყდებათ ხოლმე, რის გამოც შეიძლება მაგ. კომპიუტერმა დაიწყოს გაჭედვა, რასაც “შველის” პროგრამის გამორთვა და თავიდან ჩართვა ან კომპიუტერის გადატვირთვა.

შენი აზრით, რა მოხდება, თუ პროგრამა ამ წესს დაარღვევს?

### ავარიული გამორთვა
გამოყოფილი მეხსიერების რეგიონის დარღვევისას

<!-- n -->
თუ პროგრამა შეეცდება იმ მეხსიერების წაკითხვა/ჩაწერას, რომელიც ოპერატიულ სისტემას არ მოუცია, ოპერატიული სისტემა მომენტალურად გათიშავს პროგრამას

კიდევ რა შემთხვევაში ითიშებიან პროგრამები ავარიულად?

### Error control
სხვადასხვა ენებს აქვთ სხვადასხვა გზა ასეთ შემთხვევებთან გამკლავების. 

<!-- ნ -->
შეიძლება მოხდეს შეცდომა და პროგრამა შეეცადოს ისეთი ფაილის წაკითხვას, რომელიც არ არსებობს. თუ პროგრამისტი არ დაწერს, რა მოხდეს ამ შემთხვევაში (მაგალითად, შეიქმნას ცარიელი ფაილი ან მომხმარებელს აცნობოს), შეიძლება მთლიანი პროგრამა გაითიშოს

### გამორთვა
პროგრამის გამორთვისას, ოპერატიული სისტემა

- ათავისუფლებს პროგრამის გამოყენებულ მეხსიერებას
- შლის პროგრამის კოდს მეხსიერებიდან

<!-- n -->
თუმცა ოპერატიულ სისტემასაც შეიძლება ქონდეს მეხსიერების მართვის პრობლემები, რა შემთხვევაშიც კომპიუტერის გადატვირთვაა საჭირო



## პარალელური პროცესები

### პროცესორის შეზღუდვები
პროცესორის ერთ ბირთვს ერთდროულად მხოლოდ ერთი ინსტრუქციის შესრულება შეუძლია

<!-- n -->
შეგიძლია დაასახელო შემთხვევები, როდესაც ეს წესი თითქოს ირღვევა და ერთდროულად რამდენიმე რამ ხდება კომპიუტერში?

### პარალელიზაციის საჭიროება
- პროგრამებს შორის
- ერთი პროგრამის პროცესებს შორის

<!-- n -->
მაგალითად, ბრაუზერი თუ ფაილს იწერს, თქვენ მაინც შეგიძლიათ საიტის გამოყენება.


### პარალელიზაციის გზები
- context switching (**66-100-ჯერ წამში**)
- resource locking
- multi-core

<!-- n -->
პროგრამების პარალელური გაშვების ილუზია იქმნება წამში რამდენჯერმე ე.წ კონტექსტის შეცვლით:

- ოპერატიული სისტემა იმახსოვრებს კოდის რომელ ხაზზე იყო პროგრამაში. პროგრამას აპაუზებს და ინახავს დაპაუზებულ პროგრამებში
- დაპაუზებული პროგრამებიდან განსაზღვრული ალგორითმის მიხედვით აარჩევს შემდეგი რომელი პროგრამა იყოს და აგრძელებს მისი ბოლო შენახული ინსტრუქციიდან

არსებობს "ნამდვილი" პარალელიზაციაც - პროცესორს ერთდროულად იმდენი ინსტრუქციის შესრულება შეუძლია, რამდენი ბირთვიც აქვს.  ბოლო წლებია პროცესორის სისწრაფეს ბირთვების რაოდენობა უფრო განსაზღვრავს, ვიდრე თითოეული ბირთვის სისწრაფე - 6 ბირთვიანი i5 უფრო სწრაფად იმუშავებს ხოლმე, ვიდრე 4 ბირთვიანი i7.

უმეტეს შემთხვევაში სხვადასხვა პროცესები ერთმანეთისგან დამოუკიდებელ ინსტრუქციებს ასრულებენ და ეს პრობლემას არ ქმნის, მაგრამ ზოგიერთი რესურსი ორივე შემთხვევის პარალელიზაციის დროს დაზარალდებოდა. მაგალითად, გვინდა ფაილის წაკითხვა, ნაწილი წავიკითხეთ და უცებ ჩვენი დრო ამოიწურა. შემდეგმა პროგრამამ რაღაც მიზეზის გამო იმ ფაილში ცვლილება შეიტანა, ჩვენ კი სულ სხვა ინფორმაციის წაკითხვას გავაგრძელებდით. ამის თავიდან ასარიდებლად თითოეული ფიზიკური რესურსის გამოყენებისთვის ასევე რიგებია - როდესაც პროგრამა რესურსს ითხოვს და იმას სხვა პროგრამა იყენებს, პირველი პროგრამა თავის რიგს უცდის. ამ რიგს იცავენ ბირთვებიც.


#### ერთი პროგრამის პარალელური პროცესები
პარალელური პროცესები მხოლოდ სხვადასხვა პროგრამებს შორის არ გამოიყენება.

<!-- n -->
- ბრაუზერი როდესაც ფაილს იწერს, ჩვენ მაინც შეგვიძლია საიტის გამოყენება. ერთ საიტზე როდესაც . ამისთვის ოპერატიულ სისტემას სპეციალური ინტერფეისი აქვს, რომელიც პროგრამებს შეუძლიათ გამოიყენონ და თხოვონ მას, კოდის რაღაც ნაწილი ცალკე პროცესად გაუშვას
- ყველა gui აპლიკაციაში - მოხმარებლის ინტერაქცია არ უნდა ბლოკავდეს პროგრამის სხვა ნაწილებს და პირიქით

ის პროგრამები და ენები, რომლებიც ბირთვების რაოდენობას ეფექტურად იყენებენ, ბევრად უფრო სწრაფად მუშაობენ.

## ოპერატიული სისტემის პასუხისმგებლობების შეჯამება
### პროცესების მართვა
რომელი პროგრამის გაშვების ჯერია, რომელმა პროგრამამ გაჭედა

### ფიზიკური კომპონენტების მართვა
და დაცვა.

-  რომელ პროგრამას რა მეხსიერებაზე აქვს წვდომა
- პერიფერიების (usb, disk, ethernet, wifi card, sound card) დაკავშირება


<!--
სხვა ყველაფერი არის დამატებითი პროგრამა (მაგალითად, ფაილის შესაბამისი პროგრამის პოვნა, რომ პროგრამის გახსნის გარეშე ჩაირთოს)
-->